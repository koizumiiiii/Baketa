# αテスト必須未実装機能リスト

**作成日**: 2025-01-07  
**目的**: αテストに必要だが現在未実装の機能を特定し、実装優先度を設定

## 1. 最優先実装項目（αテスト開始前必須）

### 🚀 GitHub Actions 自動ビルド・リリース
**現状**: ❌ 完全未実装  
**必要性**: 🔴 必須 - αテスト配布の基盤  
**実装場所**: `.github/workflows/`

#### 必要なワークフロー：
- **build.yml**: PR・プッシュ時の自動ビルド
- **release.yml**: タグプッシュ時の自動リリース作成
- **test.yml**: 自動テスト実行

#### 実装内容：
```yaml
# 必要な機能
- Windows x64ビルド
- 自己完結型実行ファイル生成
- セキュリティ強化（最小権限設定）
- 自動リリースノート生成
- アーティファクト管理
```

### 🔒 プライバシー同意システム
**現状**: ❌ 未実装  
**必要性**: 🔴 必須 - GDPR準拠・法的要件  
**実装場所**: `Baketa.UI/Views/Privacy/`, `Baketa.UI/ViewModels/Privacy/`

#### 必要なコンポーネント：
- **PrivacyConsentViewModel**: 同意管理
- **PrivacyConsentView**: 初回起動時の同意画面
- **DataCollectionOptionsViewModel**: データ収集選択
- **PrivacyPolicyView**: プライバシーポリシー表示

#### 実装内容：
```csharp
// 必要な機能
- 初回起動時の同意画面表示
- データ収集項目の詳細説明
- オプトイン/オプトアウト選択
- 同意状態の永続化
- 同意撤回機能
- プライバシーポリシー表示
```

### ⚙️ フィーチャーフラグシステム
**現状**: ❌ 未実装  
**必要性**: 🔴 必須 - 機能制御の基盤  
**実装場所**: `Baketa.Core/Settings/FeatureFlags.cs`, DI統合

#### 必要なコンポーネント：
- **FeatureFlagSettings**: フィーチャーフラグ設定クラス
- **IFeatureFlagService**: フィーチャーフラグサービス
- **FeatureFlagModule**: DI統合モジュール

#### 実装内容：
```csharp
// 制御対象機能
- 認証システム有効/無効
- クラウド翻訳エンジン有効/無効
- 高度機能有効/無効
- デバッグ機能有効/無効
- 使用統計収集有効/無効
```

## 2. 高優先実装項目（αテスト期間中）

### 💬 フィードバック収集システム
**現状**: ❌ 未実装  
**必要性**: 🟡 高 - αテスト成果に直結  
**実装場所**: `Baketa.UI/ViewModels/Feedback/`, API統合

#### 必要なコンポーネント：
- **FeedbackViewModel**: フィードバック送信UI
- **FeedbackService**: GitHub Issues API統合
- **DiscordNotificationService**: Discord Webhook統合

#### 実装内容：
```csharp
// フィードバック機能
- バグレポート送信
- 機能改善提案
- 使用感フィードバック
- ログ自動添付（同意時）
- GitHub Issues自動作成
- Discord通知（開発者向け）
```

### 🔄 更新チェック・通知システム
**現状**: ❌ 未実装  
**必要性**: 🟡 高 - αテスト継続性  
**実装場所**: `Baketa.UI/Services/UpdateService.cs`

#### 必要なコンポーネント：
- **UpdateCheckService**: GitHub Releases API連携
- **UpdateNotificationViewModel**: 更新通知UI
- **VersionComparer**: Semverバージョン比較

#### 実装内容：
```csharp
// 更新機能
- GitHub Releases API確認
- 自動更新チェック（設定可能間隔）
- 更新通知表示
- リリースノート表示
- ダウンロードリンク提供
- オフライン対応
```

### 🔗 UI-バックエンド統合強化
**現状**: ⚠️ 部分実装  
**必要性**: 🟡 高 - 核心機能の安定性  
**実装場所**: サービス層統合

#### 統合強化項目：
- **翻訳UI ↔ OPUS-MTエンジン**: リアルタイム翻訳処理
- **キャプチャUI ↔ OCRエンジン**: 画面キャプチャ・文字認識
- **設定UI ↔ フィーチャーフラグ**: 動的機能制御
- **オーバーレイ ↔ 翻訳結果**: 翻訳結果表示

## 3. 中優先実装項目（αテスト後期・改善時）

### 📊 使用統計・ログ収集（プライバシー準拠）
**現状**: ⚠️ 基盤実装済み・収集未実装  
**必要性**: 🟢 中 - 改善のためのデータ  
**実装場所**: 既存EventProcessorMetrics拡張

#### 必要な拡張：
```csharp
// 統計収集項目（匿名・オプトイン）
- 翻訳処理時間・成功率
- UI操作頻度
- エラー発生率
- パフォーマンス指標
- 機能利用状況
```

### 🎯 αテスト特化UI
**現状**: ❌ 未実装  
**必要性**: 🟢 中 - αテスト体験向上  
**実装場所**: `Baketa.UI/Views/AlphaTest/`

#### 必要なコンポーネント：
- **AlphaTestDashboard**: αテスト状況表示
- **TestParticipantInfo**: 参加者情報
- **FeedbackQuickAccess**: 簡単フィードバック

### 🔧 デバッグ・診断機能
**現状**: ⚠️ 基本機能のみ  
**必要性**: 🟢 中 - 問題解決支援  
**実装場所**: 既存ログシステム拡張

#### 診断機能拡張：
```csharp
// 診断・デバッグ支援
- システム情報収集
- 設定診断
- 翻訳エンジン状態確認
- OCRエンジン動作確認
- ログエクスポート機能
```

## 4. 技術的依存関係・前提条件

### 🔐 外部サービス・API
| サービス | 用途 | 設定必要性 |
|---------|------|-----------|
| **GitHub API** | Issues作成・Releases確認 | Personal Access Token |
| **Discord Webhook** | 開発者通知 | Webhook URL |
| **GitHub Actions** | CI/CD | Repository Secrets |

### 📦 NuGetパッケージ依存
```xml
<!-- 追加必要なパッケージ -->
<PackageReference Include="Octokit" Version="9.0.0" />  <!-- GitHub API -->
<PackageReference Include="Semver" Version="2.3.0" />   <!-- バージョン比較 -->
<PackageReference Include="Microsoft.Toolkit.Http" />   <!-- HTTP通信 -->
```

### ⚙️ 設定ファイル追加
```json
// appsettings.AlphaTest.json
{
  "AlphaTest": {
    "GitHubApiToken": "",
    "DiscordWebhookUrl": "",
    "FeedbackEnabled": true,
    "UpdateCheckEnabled": true,
    "UsageStatisticsEnabled": false
  }
}
```

## 5. 実装工数見積もり

### 🔴 最優先項目（3-5日）
- **GitHub Actions**: 1-2日（ワークフロー作成・テスト）
- **プライバシー同意**: 1-2日（UI・ビジネスロジック）
- **フィーチャーフラグ**: 1日（設定システム統合）

### 🟡 高優先項目（4-6日）
- **フィードバック収集**: 2-3日（UI・API統合・テスト）
- **更新チェック**: 1-2日（サービス実装・UI）
- **UI-バックエンド統合**: 1日（既存統合の強化）

### 🟢 中優先項目（3-4日）
- **統計・ログ収集**: 1-2日（プライバシー準拠実装）
- **αテスト特化UI**: 1日（基本ダッシュボード）
- **診断機能**: 1日（既存機能拡張）

## 6. αテスト成功のための最小実装セット

### ✅ Phase 1開始前（必須）
1. GitHub Actions自動ビルド
2. プライバシー同意システム
3. フィーチャーフラグシステム

### ✅ Phase 1期間中（重要）
1. フィードバック収集システム
2. 更新チェック機能
3. UI-バックエンド統合強化

### ✅ Phase 1後期（改善）
1. 基本的な使用統計収集
2. 診断・デバッグ支援機能

## 7. リスク評価・軽減策

### 🔴 高リスク
- **GitHub Actions実装**: 既存スクリプト活用、段階的実装
- **プライバシー法的要件**: GDPR準拠テンプレート使用

### 🟡 中リスク
- **外部API統合**: エラーハンドリング徹底、フォールバック実装
- **フィーチャーフラグ複雑化**: シンプルな設定ベース実装

### 🟢 低リスク
- **UI実装**: 既存パターン活用
- **統計収集**: 既存EventProcessorMetrics拡張

## 8. 完了判定基準

### 機能完了基準
- [ ] 各機能が単体テストを通過
- [ ] 統合テストでエラーなし
- [ ] プライバシー要件準拠確認
- [ ] パフォーマンス基準クリア

### αテスト準備完了基準
- [ ] 自動ビルド・配布が動作
- [ ] プライバシー同意画面表示
- [ ] ローカル翻訳機能動作
- [ ] フィードバック収集可能
- [ ] 更新チェック機能動作

この未実装機能リストに基づき、**効率的で段階的なαテスト実装**を進めることで、高品質なシンプル翻訳アプリのαテストを成功させることができます。