<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:Baketa.UI.ViewModels"
        xmlns:local="using:Baketa.UI.Extensions"
        mc:Ignorable="d" d:DesignWidth="110" d:DesignHeight="600"
        x:Class="Baketa.UI.Views.MainOverlayView"
        x:DataType="vm:MainOverlayViewModel"
        Title="Baketa Overlay"
        SizeToContent="WidthAndHeight"
        MaxWidth="200"
        WindowStartupLocation="Manual"
        ShowInTaskbar="False"
        Topmost="True"
        Background="Transparent"
        CanResize="False"
        SystemDecorations="None"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        ExtendClientAreaTitleBarHeightHint="0">
  
  <!-- [Issue #245] Window.Resourcesã‚’å‰Šé™¤ã—ã€OverlayDesignTokens.axamlã®DynamicResourceã‚’ä½¿ç”¨ -->

  <Window.Styles>
    <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã‚¹ã‚¿ã‚¤ãƒ« -->
    <!-- ðŸ”¥ [ISSUE#171] å¤šè¨€èªžå¯¾å¿œ: Widthå›ºå®šå€¤ â†’ MinWidth ã«å¤‰æ›´ï¼ˆãƒ†ã‚­ã‚¹ãƒˆé•·ã«å¿œã˜ã¦è‡ªå‹•èª¿æ•´ï¼‰ -->
    <!-- [Issue #245] StaticResource â†’ DynamicResourceï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œï¼‰ -->
    <Style Selector="Button.menu-item">
      <Setter Property="Background" Value="{DynamicResource OverlayButtonBackgroundBrush}"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="8"/>
      <Setter Property="HorizontalContentAlignment" Value="Center"/>
      <Setter Property="VerticalContentAlignment" Value="Center"/>
      <Setter Property="HorizontalAlignment" Value="Stretch"/>
      <Setter Property="CornerRadius" Value="6"/>
      <Setter Property="Margin" Value="4,2"/>
      <Setter Property="MinWidth" Value="50"/>
    </Style>

    <Style Selector="Button.menu-item:pointerover">
      <Setter Property="Background" Value="{DynamicResource OverlayButtonHoverBrush}"/>
    </Style>

    <Style Selector="Button.menu-item:pressed">
      <Setter Property="Background" Value="{DynamicResource OverlayButtonPressedBrush}"/>
    </Style>

    <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆæœªä½¿ç”¨ - Statuså‰Šé™¤æ¸ˆã¿ï¼‰ -->
    <Style Selector="Border.status-item">
      <Setter Property="Background" Value="{DynamicResource OverlayButtonBackgroundBrush}"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="8"/>
      <Setter Property="HorizontalAlignment" Value="Stretch"/>
      <Setter Property="CornerRadius" Value="6"/>
      <Setter Property="Margin" Value="4,2"/>
      <Setter Property="MinWidth" Value="50"/>
    </Style>
    
    <!-- æœ€å°åŒ–ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« -->
    <!-- ðŸ”¥ [ISSUE#171] å¤šè¨€èªžå¯¾å¿œ: Widthå›ºå®šå€¤ â†’ MinWidth ã«å¤‰æ›´ -->
    <Style Selector="Button.minimize-button">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="4"/>
      <Setter Property="HorizontalContentAlignment" Value="Center"/>
      <Setter Property="VerticalContentAlignment" Value="Center"/>
      <Setter Property="CornerRadius" Value="4"/>
      <Setter Property="HorizontalAlignment" Value="Stretch"/>
      <Setter Property="MinWidth" Value="50"/>
      <Setter Property="Margin" Value="4,8,4,4"/>
    </Style>

    <Style Selector="Button.minimize-button:pointerover">
      <Setter Property="Background" Value="{DynamicResource OverlayButtonHoverBrush}"/>
    </Style>

    <!-- éžã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« - èƒŒæ™¯è‰²ãªã—ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ†ã‚­ã‚¹ãƒˆã®ã¿è–„ã„ã‚°ãƒ¬ãƒ¼ -->
    <Style Selector="Button.menu-item:disabled">
      <Setter Property="Background" Value="Transparent"/>
    </Style>

    <Style Selector="Button.menu-item:disabled PathIcon">
      <Setter Property="Foreground" Value="{DynamicResource OverlayIconDisabledBrush}"/>
    </Style>

    <Style Selector="Button.menu-item:disabled TextBlock">
      <Setter Property="Foreground" Value="{DynamicResource OverlayIconDisabledBrush}"/>
    </Style>

    <!-- éžã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã§ãƒ›ãƒãƒ¼åŠ¹æžœã‚‚ç„¡åŠ¹åŒ– -->
    <Style Selector="Button.menu-item:disabled:pointerover">
      <Setter Property="Background" Value="Transparent"/>
    </Style>

    <!-- ãƒ‰ãƒ©ãƒƒã‚°ãƒãƒ³ãƒ‰ãƒ«ã‚¹ã‚¿ã‚¤ãƒ« (#246) -->
    <Style Selector="Border.drag-handle">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Cursor" Value="SizeAll"/>
      <Setter Property="HorizontalAlignment" Value="Stretch"/>
      <Setter Property="Padding" Value="4"/>
    </Style>

    <Style Selector="Border.drag-handle:pointerover">
      <Setter Property="Background" Value="{DynamicResource OverlayButtonHoverBrush}"/>
    </Style>
  </Window.Styles>

  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
  <Grid>
  
  <!-- ãƒ¡ã‚¤ãƒ³ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤: ç¸¦åž‹ã‚¢ã‚¤ã‚³ãƒ³+ãƒ†ã‚­ã‚¹ãƒˆæ§‹æˆ -->
  <!-- [Issue #245] DynamicResourceã§ãƒ†ãƒ¼ãƒžå¯¾å¿œ -->
  <Border Name="MainOverlayBorder"
          Background="{DynamicResource OverlayBackgroundBrush}"
          BorderBrush="{DynamicResource OverlayBorderBrush}"
          BorderThickness="1"
          CornerRadius="8"
          BoxShadow="0 4 12 0 #40000000"
          Padding="4"
          IsVisible="{Binding !IsCollapsed}">

      <StackPanel Orientation="Vertical" Spacing="2">

      <!-- ãƒ‰ãƒ©ãƒƒã‚°ãƒãƒ³ãƒ‰ãƒ« (#246) -->
      <Border Classes="drag-handle"
              Name="DragHandle"
              CornerRadius="4"
              Margin="4,4,4,2"
              Height="20"
              ToolTip.Tip="{local:Localize MainOverlay_DragToMove}"
              PointerPressed="OnDragHandlePointerPressed">
        <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
          <!-- 6ãƒ‰ãƒƒãƒˆã‚°ãƒªãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ (â‹®â‹®) -->
          <StackPanel Orientation="Horizontal" Spacing="3">
            <StackPanel Orientation="Vertical" Spacing="2">
              <Ellipse Width="3" Height="3" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
              <Ellipse Width="3" Height="3" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
              <Ellipse Width="3" Height="3" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
            </StackPanel>
            <StackPanel Orientation="Vertical" Spacing="2">
              <Ellipse Width="3" Height="3" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
              <Ellipse Width="3" Height="3" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
              <Ellipse Width="3" Height="3" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
            </StackPanel>
          </StackPanel>
        </Grid>
      </Border>

      <!-- ðŸ”¥ [Issue #300] VRAMè­¦å‘Šã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
      <Border IsVisible="{Binding HasMemoryWarning}"
              Background="#FFFFA500"
              CornerRadius="4"
              Padding="4,2"
              Margin="4,2"
              HorizontalAlignment="Center"
              ToolTip.Tip="GPUãƒ¡ãƒ¢ãƒªä½¿ç”¨çŽ‡ãŒé«˜ããªã£ã¦ã„ã¾ã™">
        <TextBlock Text="âš ï¸ ãƒ¡ãƒ¢ãƒªè­¦å‘Š"
                   FontSize="9"
                   Foreground="Black"
                   HorizontalAlignment="Center"
                   FontWeight="Bold"/>
      </Border>

      <!-- æœ€å°åŒ–ãƒœã‚¿ãƒ³ - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžå¾Œã®ã¿è¡¨ç¤º -->
      <!-- ðŸ”¥ [ISSUE#171] UIæ”¹å–„: Minãƒ†ã‚­ã‚¹ãƒˆå‰Šé™¤ã€ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚ºã‚’expandã¨çµ±ä¸€ï¼ˆ16pxï¼‰ -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œï¼‰ -->
      <Button Classes="minimize-button"
              Command="{Binding FoldCommand}"
              ToolTip.Tip="{local:Localize MainOverlay_Minimize}"
              AutomationProperties.Name="æœ€å°åŒ–ãƒœã‚¿ãƒ³"
              IsVisible="{Binding IsWindowSelected}">
        <PathIcon Width="16" Height="16"
                  Data="{StaticResource ChevronUpIcon}"
                  Foreground="{DynamicResource OverlayIconBrush}"/>
      </Button>
      
      <!-- ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžãƒœã‚¿ãƒ³ - å¸¸ã«è¡¨ç¤º -->
      <!-- ðŸ”¥ [ISSUE#171] UIæ”¹å–„: Select â†’ Target ã«å¤‰æ›´ -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œï¼‰ -->
      <Button Classes="menu-item"
              Command="{Binding SelectWindowCommand}"
              ToolTip.Tip="{local:Localize MainOverlay_SelectWindow}"
              Name="SelectWindowButton"
              IsEnabled="{Binding IsSelectWindowEnabled}"
              AutomationProperties.Name="ç¿»è¨³å¯¾è±¡ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é¸æŠž">
        <StackPanel Orientation="Vertical" Spacing="4">
          <PathIcon Width="18" Height="18"
                    Data="{StaticResource TargetIcon}"
                    Foreground="{DynamicResource OverlayIconBrush}"/>
          <TextBlock Text="{local:Localize MainOverlay_Target}"
                     FontSize="10"
                     HorizontalAlignment="Center"
                     TextAlignment="Center"
                     Foreground="{DynamicResource OverlayTextBrush}"
                     IsVisible="{Binding !IsCollapsed}"/>
        </StackPanel>
      </Button>
      
      <!-- Liveç¿»è¨³ãƒœã‚¿ãƒ³ - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžå¾Œã®ã¿è¡¨ç¤º -->
      <!-- ðŸ”¥ [ISSUE#171] UIæ”¹å–„: Start â†’ Liveç¿»è¨³ ã«å¤‰æ›´ã€çŠ¶æ…‹ã«ã‚ˆã‚‹è¡¨ç¤ºåˆ¶å¾¡ -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œã€çŠ¶æ…‹åˆ‡æ›¿ï¼‰ -->
      <Button Classes="translation-mode-button"
              Classes.pulsing="{Binding IsLiveActive}"
              IsEnabled="{Binding IsLiveEnabled}"
              IsVisible="{Binding IsWindowSelected}"
              Command="{Binding StartStopCommand}"
              ToolTip.Tip="{Binding StartButtonTooltip}"
              Name="StartStopButton"
              PointerPressed="StartStopButton_OnPointerPressed">
        <StackPanel Orientation="Vertical" Spacing="4">
          <Grid Width="20" Height="20">
            <!-- é€šå¸¸çŠ¶æ…‹: ãƒ“ãƒ‡ã‚ªã‚«ãƒ¡ãƒ©ã‚¢ã‚¤ã‚³ãƒ³ -->
            <PathIcon Data="{StaticResource VideoIcon}"
                      Foreground="{DynamicResource OverlayIconBrush}"
                      IsVisible="{Binding !IsLiveActive}"/>
            <!-- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹: ãƒ“ãƒ‡ã‚ªã‚«ãƒ¡ãƒ©ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆèµ¤ï¼‰ -->
            <PathIcon Data="{StaticResource VideoIcon}"
                      Foreground="{DynamicResource OverlayStatusErrorBrush}"
                      IsVisible="{Binding IsLiveActive}"/>
          </Grid>
          <TextBlock Text="{local:Localize MainOverlay_LiveTranslation}"
                     FontSize="10"
                     HorizontalAlignment="Center"
                     TextAlignment="Center"
                     Foreground="{DynamicResource OverlayTextBrush}"
                     IsVisible="{Binding !IsCollapsed}"/>
        </StackPanel>
      </Button>

      <!-- Shotç¿»è¨³ãƒœã‚¿ãƒ³ - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžå¾Œã®ã¿è¡¨ç¤º -->
      <!-- ðŸ”¥ [ISSUE#171] UIæ”¹å–„: Shot â†’ Shotç¿»è¨³ ã«å¤‰æ›´ã€çŠ¶æ…‹ã«ã‚ˆã‚‹è¡¨ç¤ºåˆ¶å¾¡ -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œã€çŠ¶æ…‹åˆ‡æ›¿ï¼‰ -->
      <Button Classes="translation-mode-button"
              Classes.pulsing="{Binding IsSingleshotActive}"
              IsEnabled="{Binding IsSingleshotEnabled}"
              IsVisible="{Binding IsWindowSelected}"
              Command="{Binding ExecuteSingleshotCommand}"
              ToolTip.Tip="{Binding SingleshotButtonTooltip}"
              Name="SingleshotButton">
        <StackPanel Orientation="Vertical" Spacing="4">
          <Grid Width="20" Height="20">
            <!-- é€šå¸¸çŠ¶æ…‹: ã‚«ãƒ¡ãƒ©ã‚¢ã‚¤ã‚³ãƒ³ -->
            <PathIcon Data="{StaticResource CameraIcon}"
                      Foreground="{DynamicResource OverlayIconBrush}"
                      IsVisible="{Binding !IsSingleshotActive}"/>
            <!-- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹: ã‚«ãƒ¡ãƒ©ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆèµ¤ï¼‰ -->
            <PathIcon Data="{StaticResource CameraIcon}"
                      Foreground="{DynamicResource OverlayStatusErrorBrush}"
                      IsVisible="{Binding IsSingleshotActive}"/>
          </Grid>
          <TextBlock Text="{local:Localize MainOverlay_ShotTranslation}"
                     FontSize="10"
                     HorizontalAlignment="Center"
                     TextAlignment="Center"
                     Foreground="{DynamicResource OverlayTextBrush}"
                     IsVisible="{Binding !IsCollapsed}"/>
        </StackPanel>
      </Button>

      <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
      <Border Classes="status-item" IsVisible="{Binding IsLoading}">
        <StackPanel Orientation="Vertical" Spacing="4">
          <Ellipse Width="16" Height="16"
                   Fill="{DynamicResource OverlayStatusProcessingBrush}"
                   Opacity="0.8"/>
          <TextBlock Text="{local:Localize MainOverlay_Preparing}"
                     FontSize="9"
                     HorizontalAlignment="Center"
                     Foreground="{DynamicResource OverlayStatusProcessingBrush}"/>
        </StackPanel>
      </Border>
      
      <!-- ç¿»è¨³è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžå¾Œã®ã¿è¡¨ç¤º -->
      <!-- ðŸ”¥ [ISSUE#171] UIæ”¹å–„: Show â†’ ç¿»è¨³è¡¨ç¤º ã«å¤‰æ›´ã€çŠ¶æ…‹ã«ã‚ˆã‚‹è¡¨ç¤ºåˆ¶å¾¡ -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œï¼‰ -->
      <Button Classes="menu-item"
              Command="{Binding ShowHideCommand}"
              IsEnabled="{Binding ShowHideEnabled}"
              IsVisible="{Binding IsWindowSelected}"
              ToolTip.Tip="{local:Localize MainOverlay_ShowHideTranslation}">
        <StackPanel Orientation="Vertical" Spacing="4" HorizontalAlignment="Center">
          <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
            <PathIcon Width="18" Height="18"
                      Data="{StaticResource ViewIcon}"
                      Foreground="{DynamicResource OverlayIconBrush}"/>
            <Ellipse Width="8" Height="8"
                     Fill="{DynamicResource OverlayStatusActiveBrush}"
                     Margin="2,0,0,0"
                     IsVisible="{Binding IsTranslationActive}"/>
          </StackPanel>
          <TextBlock Text="{local:Localize MainOverlay_ShowTranslation}"
                     FontSize="10"
                     HorizontalAlignment="Center"
                     Foreground="{DynamicResource OverlayTextBrush}"
                     IsVisible="{Binding !IsCollapsed}"/>
        </StackPanel>
      </Button>
      
      <!-- è¨­å®šãƒœã‚¿ãƒ³ - å¸¸ã«è¡¨ç¤º -->
      <!-- ðŸ”¥ [ISSUE#171] UIæ”¹å–„: Set â†’ è¨­å®š ã«å¤‰æ›´ -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œï¼‰ -->
      <Button Classes="menu-item"
              Command="{Binding SettingsCommand}"
              IsEnabled="{Binding SettingsEnabled}"
              ToolTip.Tip="{local:Localize MainOverlay_Settings}">
        <StackPanel Orientation="Vertical" Spacing="4">
          <PathIcon Width="18" Height="18"
                    Data="{StaticResource SettingsIcon}"
                    Foreground="{DynamicResource OverlayIconBrush}"/>
          <TextBlock Text="{local:Localize MainOverlay_Settings}"
                     FontSize="10"
                     HorizontalAlignment="Center"
                     Foreground="{DynamicResource OverlayTextBrush}"
                     IsVisible="{Binding !IsCollapsed}"/>
        </StackPanel>
      </Button>
      
      <!-- åŒºåˆ‡ã‚Šç·š -->
      <Rectangle Height="1"
                 Fill="{DynamicResource OverlayBorderBrush}"
                 Margin="8,4"
                 Opacity="0.5"/>

      <!-- çµ‚äº†ãƒœã‚¿ãƒ³ - å¸¸ã«è¡¨ç¤º -->
      <!-- ðŸ”¥ [ISSUE#171] UIæ”¹å–„: Exit ãƒ†ã‚­ã‚¹ãƒˆã¯å±•é–‹æ™‚ã®ã¿è¡¨ç¤º -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œï¼‰ -->
      <Button Classes="menu-item"
              Command="{Binding ExitCommand}"
              ToolTip.Tip="{local:Localize MainOverlay_Exit}"
              Click="OnExitButtonClick">
        <StackPanel Orientation="Vertical" Spacing="4">
          <PathIcon Width="18" Height="18"
                    Data="{StaticResource ExitIcon}"
                    Foreground="{DynamicResource OverlayIconBrush}"/>
          <TextBlock Text="{local:Localize MainOverlay_Exit}"
                     FontSize="10"
                     HorizontalAlignment="Center"
                     Foreground="{DynamicResource OverlayTextBrush}"
                     IsVisible="{Binding !IsCollapsed}"/>
        </StackPanel>
      </Button>

    </StackPanel>
  </Border>

  <!-- æœ€å°åŒ–çŠ¶æ…‹ -->
  <!-- ðŸ”¥ [ISSUE#171] UIæ”¹å–„: Liveç¿»è¨³ã€Shotç¿»è¨³ã€ç¿»è¨³è¡¨ç¤ºãƒœã‚¿ãƒ³è¿½åŠ ï¼ˆã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ï¼‰ -->
  <!-- Heightå‰Šé™¤: ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžçŠ¶æ…‹ã«å¿œã˜ã¦è‡ªå‹•èª¿æ•´ -->
  <Border Name="CollapsedOverlayBorder"
          Width="40"
          Background="{DynamicResource OverlayBackgroundBrush}"
          BorderBrush="{DynamicResource OverlayBorderBrush}"
          BorderThickness="1"
          CornerRadius="8"
          BoxShadow="0 2 8 0 #40000000"
          IsVisible="{Binding IsCollapsed}">

    <StackPanel Orientation="Vertical" Spacing="0">
      <!-- ãƒ‰ãƒ©ãƒƒã‚°ãƒãƒ³ãƒ‰ãƒ«ï¼ˆç¸®å°æ™‚ï¼‰ (#246) -->
      <Border Classes="drag-handle"
              Name="CollapsedDragHandle"
              CornerRadius="4"
              Margin="2,2,2,0"
              Height="16"
              ToolTip.Tip="{local:Localize MainOverlay_DragToMove}"
              PointerPressed="OnDragHandlePointerPressed">
        <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
          <!-- 6ãƒ‰ãƒƒãƒˆã‚°ãƒªãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ (â‹®â‹®) - ç¸®å°ç‰ˆ -->
          <StackPanel Orientation="Horizontal" Spacing="2">
            <StackPanel Orientation="Vertical" Spacing="1">
              <Ellipse Width="2" Height="2" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
              <Ellipse Width="2" Height="2" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
              <Ellipse Width="2" Height="2" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
            </StackPanel>
            <StackPanel Orientation="Vertical" Spacing="1">
              <Ellipse Width="2" Height="2" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
              <Ellipse Width="2" Height="2" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
              <Ellipse Width="2" Height="2" Fill="{DynamicResource OverlayIconBrush}" Opacity="0.5"/>
            </StackPanel>
          </StackPanel>
        </Grid>
      </Border>

      <!-- ðŸ”¥ [Issue #300] VRAMè­¦å‘Šã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ï¼ˆç¸®å°æ™‚ï¼‰ -->
      <Border IsVisible="{Binding HasMemoryWarning}"
              Background="#FFFFA500"
              CornerRadius="4"
              Width="36"
              Height="20"
              Margin="2,2"
              ToolTip.Tip="GPUãƒ¡ãƒ¢ãƒªä½¿ç”¨çŽ‡ãŒé«˜ããªã£ã¦ã„ã¾ã™">
        <TextBlock Text="âš ï¸"
                   FontSize="12"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>
      </Border>

      <!-- å±•é–‹ãƒœã‚¿ãƒ³ -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œï¼‰ -->
      <Button Classes="minimize-button"
              Command="{Binding FoldCommand}"
              ToolTip.Tip="{local:Localize MainOverlay_Expand}"
              Background="Transparent"
              BorderThickness="0"
              Width="36"
              Height="36"
              Margin="2">
        <PathIcon Width="16" Height="16"
                  Data="{StaticResource ExpandIcon}"
                  Foreground="{DynamicResource OverlayIconBrush}"/>
      </Button>

      <!-- Liveç¿»è¨³ãƒœã‚¿ãƒ³ï¼ˆç¸®å°æ™‚ï¼‰ - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžå¾Œã®ã¿è¡¨ç¤º -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œã€çŠ¶æ…‹åˆ‡æ›¿ï¼‰ -->
      <Button Classes="minimize-button"
              Command="{Binding StartStopCommand}"
              ToolTip.Tip="{Binding StartButtonTooltip}"
              IsEnabled="{Binding IsLiveEnabled}"
              IsVisible="{Binding IsWindowSelected}"
              Background="Transparent"
              BorderThickness="0"
              Width="36"
              Height="36"
              Margin="2"
              PointerPressed="StartStopButton_OnPointerPressed">
        <Grid Width="16" Height="16">
          <PathIcon Data="{StaticResource VideoIcon}"
                    Foreground="{DynamicResource OverlayIconBrush}"
                    IsVisible="{Binding !IsLiveActive}"/>
          <PathIcon Data="{StaticResource VideoIcon}"
                    Foreground="{DynamicResource OverlayStatusErrorBrush}"
                    IsVisible="{Binding IsLiveActive}"/>
        </Grid>
      </Button>

      <!-- Shotç¿»è¨³ãƒœã‚¿ãƒ³ï¼ˆç¸®å°æ™‚ï¼‰ - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžå¾Œã®ã¿è¡¨ç¤º -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œã€çŠ¶æ…‹åˆ‡æ›¿ï¼‰ -->
      <Button Classes="minimize-button"
              Command="{Binding ExecuteSingleshotCommand}"
              ToolTip.Tip="{Binding SingleshotButtonTooltip}"
              IsEnabled="{Binding IsSingleshotEnabled}"
              IsVisible="{Binding IsWindowSelected}"
              Background="Transparent"
              BorderThickness="0"
              Width="36"
              Height="36"
              Margin="2">
        <Grid Width="16" Height="16">
          <PathIcon Data="{StaticResource CameraIcon}"
                    Foreground="{DynamicResource OverlayIconBrush}"
                    IsVisible="{Binding !IsSingleshotActive}"/>
          <PathIcon Data="{StaticResource CameraIcon}"
                    Foreground="{DynamicResource OverlayStatusErrorBrush}"
                    IsVisible="{Binding IsSingleshotActive}"/>
        </Grid>
      </Button>

      <!-- ç¿»è¨³è¡¨ç¤ºãƒœã‚¿ãƒ³ï¼ˆç¸®å°æ™‚ï¼‰ - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é¸æŠžå¾Œã®ã¿è¡¨ç¤º -->
      <!-- [Issue #245] PNGâ†’PathIconå¤‰æ›ï¼ˆãƒ†ãƒ¼ãƒžå¯¾å¿œï¼‰ -->
      <Button Classes="minimize-button"
              Command="{Binding ShowHideCommand}"
              ToolTip.Tip="{local:Localize MainOverlay_ShowHideTranslation}"
              IsEnabled="{Binding ShowHideEnabled}"
              IsVisible="{Binding IsWindowSelected}"
              Background="Transparent"
              BorderThickness="0"
              Width="36"
              Height="36"
              Margin="2">
        <StackPanel>
          <PathIcon Width="16" Height="16"
                    Data="{StaticResource ViewIcon}"
                    Foreground="{DynamicResource OverlayIconBrush}"/>
          <Ellipse Width="6" Height="6"
                   Fill="{DynamicResource OverlayStatusActiveBrush}"
                   Margin="0,-2,0,0"
                   HorizontalAlignment="Center"
                   IsVisible="{Binding IsTranslationActive}"/>
        </StackPanel>
      </Button>
    </StackPanel>
  </Border>

  </Grid>
</Window>