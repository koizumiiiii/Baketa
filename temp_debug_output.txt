?? 起動ログ作成: E:\dev\Baketa\Baketa.UI\bin\Debug\net8.0-windows10.0.19041.0\debug_startup.txt
?? Baketa.UI.exe 起動開始
?? DIコンテナの初期化開始
?? ConfigureServices開始
?? 環境: Production
?????? AdaptiveCaptureModule.RegisterServices 呼び出されました！
?????? AdaptiveCaptureModule.RegisterServices 呼び出されました！
info: Baketa.Application.DI.Modules.CaptureModule[0]
      キャプチャサービス統合モジュール登録開始
info: Baketa.Application.DI.Modules.CaptureModule[0]
      キャプチャサービス統合モジュール登録完了 - AdaptiveCaptureServiceをメインとして使用
=== DI Service Registration Debug ===
ISettingsService registrations count: 1
  - ServiceType: ISettingsService
  - ImplementationType: N/A
  - Lifetime: Singleton
  - ImplementationFactory: Yes
ITranslationEngine registrations count: 2
  - ServiceType: ITranslationEngine
  - ImplementationType: N/A
  - Lifetime: Singleton
  - ImplementationFactory: Yes
  - ServiceType: ITranslationEngine
  - ImplementationType: N/A
  - Lifetime: Singleton
  - ImplementationFactory: Yes
ITranslationService registrations count: 1
  - ServiceType: ITranslationService
  - ImplementationType: DefaultTranslationService
  - Lifetime: Singleton
  - ImplementationFactory: No
AccessibilitySettingsViewModel registrations count: 1
IOcrPreprocessingService registrations count: 2
  - ServiceType: IOcrPreprocessingService
  - ImplementationType: SimpleOcrPreprocessingService
  - Lifetime: Transient
  - ImplementationFactory: No
  - ServiceType: IOcrPreprocessingService
  - ImplementationType: Factory
  - Lifetime: Transient
  - ImplementationFactory: Yes
  - Factory details: Likely GameOptimizedPreprocessingService (Phase 3)
=== ViewModel Registration Debug ===
AccessibilitySettingsViewModel: 1 registration(s)
  - Lifetime: Singleton
  - ImplementationType: AccessibilitySettingsViewModel
SettingsViewModel: 1 registration(s)
  - Lifetime: Singleton
  - ImplementationType: SettingsViewModel
LanguagePairsViewModel: 1 registration(s)
  - Lifetime: Singleton
  - ImplementationType: LanguagePairsViewModel
??? ServiceProvider構築開始
? ServiceProvider構築完了
?? ReactiveUI設定開始
? ReactiveUI設定完了
?? OCRエンジン事前初期化開始（バックグラウンド）
?? Avalonia アプリケーション開始
?? OCRエンジン事前初期化開始
info: Baketa.Infrastructure.Memory.Pools.AdvancedImagePool[0]
      ???♂? AdvancedImagePool initialized with capacity: 50
info: Baketa.Infrastructure.OCR.PostProcessing.HybridOcrPostProcessorFactory[0]
      ハイブリッドOCR後処理プロセッサを作成中
info: Baketa.Infrastructure.OCR.PostProcessing.HybridOcrPostProcessorFactory[0]
      ハイブリッドOCR後処理プロセッサ作成完了
?? PaddleOCR環境判定開始
?? デバッグ用：環境変数が設定されていないため、一時的に本番OCRエンジンを強制使用
?? BAKETA_FORCE_PRODUCTION_OCR環境変数: '' (強制本番モード: True)
?? BAKETA_FORCE_PRODUCTION_OCR=true - 本番OCRエンジンを強制使用
info: Baketa.Infrastructure.OCR.PaddleOCR.Engine.PaddleOcrEngine[0]
      環境変数により本番OCRエンジンを強制使用
info: Baketa.Infrastructure.Performance.GpuMemoryManager[0]
      ?? GpuMemoryManager initialized
?? OCRエンジンサービス取得成功 - 初期化開始
info: Baketa.Infrastructure.OCR.PaddleOCR.Engine.PaddleOcrEngine[0]
      PaddleOCRエンジンの初期化開始 - 言語: jpn, GPU: False, マルチスレッド: False
info: Baketa.Infrastructure.OCR.PaddleOCR.Engine.PaddleOcrEngine[0]
      PP-OCRv5多言語モデルを使用 - 言語: jpn
info: Baketa.Infrastructure.OCR.PaddleOCR.Engine.PaddleOcrEngine[0]
      PP-OCRv5モデルを使用します - 言語: jpn
info: Baketa.UI.App[1]
      Baketaアプリケーションを初期化中
?? OnFrameworkInitializationCompleted開始
?? ReactiveUIエラーハンドラー設定完了
??? IClassicDesktopStyleApplicationLifetime取得成功
?? Program.ServiceProvider確認開始
?? Program.ServiceProviderアクセス試行
?? Program.ServiceProvider取得結果: not null
? Program.ServiceProvider確認成功
?? IEventAggregator取得開始
? IEventAggregator取得成功: EventAggregator
?? EventHandlerInitializationService実行開始
info: Baketa.UI.App[0]
      ? IEventAggregator取得成功: EventAggregator
?? EventHandlerInitializationService非同期実行開始
?? MainOverlayViewModel取得開始
info: Baketa.Application.Services.Events.EventHandlerInitializationService[0]
      イベントハンドラー初期化を開始します
info: Baketa.Application.Services.Events.EventHandlerInitializationService[0]
      EventAggregator取得成功
? プロセッサ OcrCompletedHandler をイベント OcrCompletedEvent に登録しました (現在の登録数: 1)
?? [DEBUG] OcrCompletedHandlerを登録しました
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ OcrCompletedHandler をイベント OcrCompletedEvent に登録しました
info: Baketa.Application.Services.Events.EventHandlerInitializationService[0]
      OcrCompletedHandlerを登録しました
info: Baketa.Infrastructure.Translation.Local.Onnx.AlphaOpusMtTranslationEngine[0]
      AlphaOpusMtTranslationEngineの初期化を開始します
info: Baketa.Infrastructure.Translation.Local.Onnx.AlphaOpusMtTranslationEngine[0]
      AlphaOpusMtEngineFactoryを取得しました
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.OpusMtNativeTokenizer[0]
      Native SentencePieceトークナイザーの作成開始: E:\dev\Baketa\Baketa.UI\bin\Debug\net8.0-windows10.0.19041.0\..\..\..\..\Models\SentencePiece\opus-mt-ja-en.model
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      SentencePieceモデルファイルの解析開始: E:\dev\Baketa\Baketa.UI\bin\Debug\net8.0-windows10.0.19041.0\..\..\..\..\Models\SentencePiece\opus-mt-ja-en.model
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      SentencePieceモデルファイルの読み込み開始: E:\dev\Baketa\Baketa.UI\bin\Debug\net8.0-windows10.0.19041.0\..\..\..\..\Models\SentencePiece\opus-mt-ja-en.model
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      Protobufモデル解析完了: 語彙数=32000
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      語彙辞書構築完了: 語彙数=32000
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      SentencePieceモデル解析完了: 語彙数=32000
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      SentencePieceモデル解析完了: 語彙数=32000
? プロセッサ InlineEventProcessor`1 をイベント TranslationStatusChangedEvent に登録しました (現在の登録数: 1)
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ InlineEventProcessor`1 をイベント TranslationStatusChangedEvent に登録しました
? プロセッサ InlineEventProcessor`1 をイベント TranslationDisplayVisibilityChangedEvent に登録しました (現在の登録数: 1)
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ InlineEventProcessor`1 をイベント TranslationDisplayVisibilityChangedEvent に登録しました
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.OpusMtNativeTokenizer[0]
      Native SentencePieceトークナイザーの作成完了: OPUS-MT Alpha Tokenizer
info: Baketa.Infrastructure.Translation.Local.Onnx.AlphaOpusMtTranslationEngine[0]
      AlphaOpusMtTranslationEngineの作成が完了しました
info: Baketa.Infrastructure.Translation.Local.Onnx.AlphaOpusMtTranslationEngine[0]
      AlphaOpusMtTranslationEngineAdapterの作成が完了しました
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.OpusMtNativeTokenizer[0]
      Native SentencePieceトークナイザーの作成開始: E:\dev\Baketa\Baketa.UI\bin\Debug\net8.0-windows10.0.19041.0\..\..\..\..\Models\SentencePiece\opus-mt-ja-en.model
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      SentencePieceモデルファイルの解析開始: E:\dev\Baketa\Baketa.UI\bin\Debug\net8.0-windows10.0.19041.0\..\..\..\..\Models\SentencePiece\opus-mt-ja-en.model
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      SentencePieceモデルファイルの読み込み開始: E:\dev\Baketa\Baketa.UI\bin\Debug\net8.0-windows10.0.19041.0\..\..\..\..\Models\SentencePiece\opus-mt-ja-en.model
? MainOverlayViewModel取得成功: MainOverlayViewModel
??? MainOverlayView作成開始
info: Baketa.UI.App[0]
      ? MainOverlayViewModel取得成功: MainOverlayViewModel
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      Protobufモデル解析完了: 語彙数=32000
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      語彙辞書構築完了: 語彙数=32000
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      SentencePieceモデル解析完了: 語彙数=32000
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.SentencePieceModelParser[0]
      SentencePieceモデル解析完了: 語彙数=32000
info: Baketa.Infrastructure.Translation.Local.Onnx.SentencePiece.Native.OpusMtNativeTokenizer[0]
      Native SentencePieceトークナイザーの作成完了: OPUS-MT Alpha Tokenizer
? プロセッサ TranslationRequestHandler をイベント TranslationRequestEvent に登録しました (現在の登録数: 1)
?? [DEBUG] TranslationRequestHandlerを登録しました
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ TranslationRequestHandler をイベント TranslationRequestEvent に登録しました
info: Baketa.Application.Services.Events.EventHandlerInitializationService[0]
      TranslationRequestHandlerを登録しました
? プロセッサ TranslationWithBoundsCompletedHandler をイベント TranslationWithBoundsCompletedEvent に登録しました (現在の登録数: 1)
?? [登録確認] TranslationWithBoundsCompletedEvent用プロセッサ登録:
?? [登録確認]   - プロセッサ型: Baketa.Core.Events.Handlers.TranslationWithBoundsCompletedHandler
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ TranslationWithBoundsCompletedHandler をイベント TranslationWithBoundsCompletedEvent に登録しました
?? [登録確認]   - イベント型: Baketa.Core.Events.EventTypes.TranslationWithBoundsCompletedEvent
?? [登録確認]   - プロセッサハッシュ: 37535352
?? [DEBUG] TranslationWithBoundsCompletedHandlerを登録しました
info: Baketa.Application.Services.Events.EventHandlerInitializationService[0]
      TranslationWithBoundsCompletedHandlerを登録しました
?? [DEBUG] イベントハンドラー初期化が完了しました
info: Baketa.Application.Services.Events.EventHandlerInitializationService[0]
      ?? イベントハンドラー初期化が完了しました
?? EventHandlerInitializationService実行完了
?? MainOverlayView初期化開始
?? MainOverlayView - InitializeComponent完了
?? MainOverlayView - IsVisible: False
?? MainOverlayView - WindowState: Normal
??? MainOverlayView作成完了 - DataContext設定済み
??? desktop.MainWindowに設定完了
? MainOverlayView.Show()実行完了
?? InPlaceTranslationOverlayManager初期化設定
? InPlaceTranslationOverlayManager遅延初期化設定完了
??? 旧オーバーレイシステムは削除済み - インプレースシステムが自動で管理
?? TranslationFlowModuleのイベント購読を初期化中
info: Baketa.UI.App[0]
      ?? TranslationFlowModuleのイベント購読を初期化中
?? TranslationFlowModuleインスタンス作成完了
info: Baketa.UI.App[0]
      ?? TranslationFlowModuleインスタンス作成完了
?? InPlaceTranslationOverlayManager非同期初期化開始
?? TranslationFlowModuleの初期化を開始
?? InPlaceTranslationOverlayManager.InitializeAsync開始 - _isInitialized: False, _disposed: False
?? インプレースオーバーレイマネージャー初期化ロック取得、実際の初期化を開始
?? インプレースオーバーレイマネージャー初期化完了フラグ設定
?? InPlaceTranslationOverlayManager.InitializeAsync正常完了
? InPlaceTranslationOverlayManager初期化完了
info: Baketa.UI.Services.InPlaceTranslationOverlayManager[0]
      InPlace translation overlay manager initialized successfully
info: Baketa.Infrastructure.OCR.PaddleOCR.Engine.PaddleOcrEngine[0]
      シングルスレッドOCRエンジン作成成功
info: Baketa.Infrastructure.OCR.PaddleOCR.Engine.PaddleOcrEngine[0]
      PaddleOCRエンジンの初期化完了
? OCRエンジン事前初期化完了 - 初期化時間: 1125ms
?? TranslationFlowEventProcessorを取得中
info: Baketa.Application.Services.Capture.AdaptiveCaptureService[0]
      AdaptiveCaptureService 登録完了
info: Baketa.Application.Services.Capture.AdaptiveCaptureServiceAdapter[0]
      AdaptiveCaptureServiceAdapter 登録完了
info: Baketa.Application.DI.Modules.CaptureModule[0]
      ICaptureService として AdaptiveCaptureServiceAdapter を登録
info: Baketa.Core.Translation.Factories.DefaultTranslationEngineFactory[0]
      合計 0 個の翻訳エンジンが利用可能です
info: Baketa.Application.Services.Translation.CoordinateBasedTranslationService[0]
      ?? CoordinateBasedTranslationService initialized - Hash: 14315403
info: Baketa.Application.Services.Translation.TranslationOrchestrationService[0]
      ?? 座標ベース翻訳システムが利用可能です - 座標ベース翻訳表示が有効
? TranslationFlowEventProcessor取得成功: ハッシュ=61729771
?? イベント購読を開始
? プロセッサ TranslationFlowEventProcessor をイベント StartTranslationRequestEvent に登録しました (現在の登録数: 1)
? StartTranslationRequestEvent購読完了
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ TranslationFlowEventProcessor をイベント StartTranslationRequestEvent に登録しました
? プロセッサ TranslationFlowEventProcessor をイベント StopTranslationRequestEvent に登録しました (現在の登録数: 1)
? StopTranslationRequestEvent購読完了
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ TranslationFlowEventProcessor をイベント StopTranslationRequestEvent に登録しました
? プロセッサ TranslationFlowEventProcessor をイベント ToggleTranslationDisplayRequestEvent に登録しました (現在の登録数: 1)
? ToggleTranslationDisplayRequestEvent購読完了
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ TranslationFlowEventProcessor をイベント ToggleTranslationDisplayRequestEvent に登録しました
? プロセッサ TranslationFlowEventProcessor をイベント SettingsChangedEvent に登録しました (現在の登録数: 1)
? SettingsChangedEvent購読完了
info: Baketa.Core.Events.Implementation.EventAggregator[0]
      ? プロセッサ TranslationFlowEventProcessor をイベント SettingsChangedEvent に登録しました
?? 翻訳フローイベントプロセッサーを正常に登録しました
? TranslationFlowModule初期化完了
info: Baketa.UI.DI.Modules.TranslationFlowModule[0]
      ?? 翻訳フローイベントプロセッサーを正常に登録しました
info: Baketa.UI.App[0]
      ? TranslationFlowModule初期化完了
?? イベント発行: ApplicationStartupEvent (ID: 126574ee-eb7e-42c9-8b19-4bb32a31a78c)
?? イベント ApplicationStartupEvent のプロセッサが登録されていません
warn: Baketa.Core.Events.Implementation.EventAggregator[0]
      ?? イベント ApplicationStartupEvent のプロセッサが登録されていません
info: Baketa.UI.App[2]
      アプリケーション起動完了
?? MainOverlayView - OnLoaded呼び出し
?? MainOverlayView - OnLoaded後: IsVisible=True, IsEnabled=True
?? MainOverlayView - Position: 16, 350, Width: 70, Height: 430
?? MainOverlayView - Show()とActivate()を実行
info: Baketa.Core.Services.EnhancedSettingsService[0]
      設定を再読み込みしました: C:\Users\suke0\AppData\Roaming\Baketa\settings.json
